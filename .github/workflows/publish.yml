name: Deploy to render
on:
    push : 
         branches: [main]
    pull_request: 
         branches: [main]
jobs:
    deploy:
        runs-on: ubuntu-latest
        permissions: 
            contents: read
            packages: write
        steps:
            - name: Checkout name
              uses: actions/checkout@v3

            - name: setup node and version
              uses: actions/setup-node@v3
              with:
                node-version : 20
            
            - name: install Dependencies
              run : npm install

            - name: build project
              run : npm run build
            
            - name: deploy to render service
              run: |
                curl -X POST \
                -H "Authorization: Bearer " \
                -H "Content-Type: application/json" \
                 https://api.render.com/v1/services/<your-service-id>/deploys